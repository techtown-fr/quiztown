---
import GameLayout from '../../layouts/GameLayout.astro';
import PlayerSession from '../../islands/PlayerSession';
import { getLangFromUrl } from '../../i18n';

const lang = getLangFromUrl(Astro.url);

// For static builds, we pre-render a demo page;
// real sessions use the Firebase rewrite to serve this page.
// PlayerSession reads the actual session ID from the URL at runtime.
export function getStaticPaths() {
  return [{ params: { id: 'demo' } }];
}
---

<GameLayout title="QuizTown - Join">
  <PlayerSession lang={lang} client:load />
</GameLayout>
